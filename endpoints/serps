<h1 id='serps'>SERPs</h1>
<p>This section describes getting SERP data for a specified keyword result.</p>
<h2 id='get-serp-data'>Get SERP Data</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/serp_data/RESULT_ID?access_token=ACCESS_TOKEN'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"keyword"</span><span class="p">:</span><span class="s2">"example"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"engine"</span><span class="p">:</span><span class="s2">"google"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rank_time"</span><span class="p">:</span><span class="s2">"2019-08-25T03:11:51.614409Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rank_date"</span><span class="p">:</span><span class="s2">"2019-08-25"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="s2">"en"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_center"</span><span class="p">:</span><span class="s2">"us"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="s2">"New York, New York, United States"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_number_of_results"</span><span class="p">:</span><span class="mi">160000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"serp"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"1"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Example #1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="s2">"https://test.example.com/page/1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"This is the first example"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_url"</span><span class="p">:</span><span class="s2">"test.example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_domain"</span><span class="p">:</span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"2"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Example #2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="s2">"https://www.example.com/2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"This is the second example"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_url"</span><span class="p">:</span><span class="s2">"www.example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_domain"</span><span class="p">:</span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position"</span><span class="p">:</span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">result</span><span class="w"> </span><span class="err">slots</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">they're</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">missing</span><span class="w"> </span><span class="err">(e.g.</span><span class="w"> </span><span class="err">less</span><span class="w"> </span><span class="err">than</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="err">results)</span><span class="w">
    </span><span class="s2">"100"</span><span class="p">:</span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"local_pack"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Local result"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"href"</span><span class="p">:</span><span class="s2">"https://www.example.com/local"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"present"</span><span class="p">:</span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"local_image_carousel"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Local result"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"present"</span><span class="p">:</span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"knowledge_panel"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Knowledge panel result"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"href"</span><span class="p">:</span><span class="s2">"https://www.example.com/knowledge-panel"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"present"</span><span class="p">:</span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"featured_snippets"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Featured snippet result"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"href"</span><span class="p">:</span><span class="s2">"https://www.example.com/snippet"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"present"</span><span class="p">:</span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/serp_data/RESULT_ID?access_token=ACCESS_TOKEN</code></p>

<p>Response structure:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>keyword</td>
<td>Keyword query string</td>
</tr>
<tr>
<td>engine</td>
<td>Search engine (google, places, bing, yahoo, youtube)</td>
</tr>
<tr>
<td>rank_time</td>
<td>The time the SERP was processed</td>
</tr>
<tr>
<td>rank_date</td>
<td>The date the SERP was processed</td>
</tr>
<tr>
<td>locale</td>
<td>Requested search language (e.g. en)</td>
</tr>
<tr>
<td>data_center</td>
<td>Requested search country (e.g. us)</td>
</tr>
<tr>
<td>location</td>
<td>Search location (e.g. New York, New York, United States)</td>
</tr>
<tr>
<td>total_number_of_results</td>
<td>The total number of search results</td>
</tr>
<tr>
<td>serp</td>
<td>A JSON object of ranked organic results</td>
</tr>
<tr>
<td>local_pack</td>
<td>A JSON object containing a list of local pack results</td>
</tr>
<tr>
<td>local_image_carousel</td>
<td>A JSON object containing a list of carousel results</td>
</tr>
<tr>
<td>knowledge_panel</td>
<td>A JSON object containing a list of knowledge panel results</td>
</tr>
<tr>
<td>featured_snippets</td>
<td>A JSON object containing a list of featured snippet results</td>
</tr>
</tbody></table>
