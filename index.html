
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#access-token" class="toc-h1 toc-link" data-title="Access Token">Access Token</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#obtain-an-access-token-for-your-user" class="toc-h2 toc-link" data-title="Obtain an access token for your user">Obtain an access token for your user</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user" class="toc-h1 toc-link" data-title="User">User</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-user" class="toc-h2 toc-link" data-title="Get user">Get user</a>
                  </li>
                  <li>
                    <a href="#update-user" class="toc-h2 toc-link" data-title="Update user">Update user</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subusers" class="toc-h1 toc-link" data-title="Subusers">Subusers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#subusers-data" class="toc-h2 toc-link" data-title="Subusers data">Subusers data</a>
                  </li>
                  <li>
                    <a href="#list-subusers" class="toc-h2 toc-link" data-title="List subusers">List subusers</a>
                  </li>
                  <li>
                    <a href="#get-a-subuser" class="toc-h2 toc-link" data-title="Get a subuser">Get a subuser</a>
                  </li>
                  <li>
                    <a href="#create-a-subuser" class="toc-h2 toc-link" data-title="Create a subuser">Create a subuser</a>
                  </li>
                  <li>
                    <a href="#update-a-subuser" class="toc-h2 toc-link" data-title="Update a subuser">Update a subuser</a>
                  </li>
                  <li>
                    <a href="#delete-a-subuser" class="toc-h2 toc-link" data-title="Delete a subuser">Delete a subuser</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#groups" class="toc-h1 toc-link" data-title="Groups">Groups</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-groups" class="toc-h2 toc-link" data-title="List groups">List groups</a>
                  </li>
                  <li>
                    <a href="#get-a-group" class="toc-h2 toc-link" data-title="Get a group">Get a group</a>
                  </li>
                  <li>
                    <a href="#create-a-group" class="toc-h2 toc-link" data-title="Create a group">Create a group</a>
                  </li>
                  <li>
                    <a href="#update-a-group" class="toc-h2 toc-link" data-title="Update a group">Update a group</a>
                  </li>
                  <li>
                    <a href="#delete-a-group" class="toc-h2 toc-link" data-title="Delete a group">Delete a group</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#urls" class="toc-h1 toc-link" data-title="URLs">URLs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#url-data" class="toc-h2 toc-link" data-title="URL data">URL data</a>
                  </li>
                  <li>
                    <a href="#list-urls" class="toc-h2 toc-link" data-title="List URLs">List URLs</a>
                  </li>
                  <li>
                    <a href="#get-a-url" class="toc-h2 toc-link" data-title="Get a URL">Get a URL</a>
                  </li>
                  <li>
                    <a href="#create-a-url" class="toc-h2 toc-link" data-title="Create a URL">Create a URL</a>
                  </li>
                  <li>
                    <a href="#update-a-url" class="toc-h2 toc-link" data-title="Update a URL">Update a URL</a>
                  </li>
                  <li>
                    <a href="#delete-a-url" class="toc-h2 toc-link" data-title="Delete a URL">Delete a URL</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#keywords" class="toc-h1 toc-link" data-title="Keywords">Keywords</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-keywords" class="toc-h2 toc-link" data-title="List keywords">List keywords</a>
                  </li>
                  <li>
                    <a href="#add-keywords" class="toc-h2 toc-link" data-title="Add keywords">Add keywords</a>
                  </li>
                  <li>
                    <a href="#remove-keywords" class="toc-h2 toc-link" data-title="Remove keywords">Remove keywords</a>
                  </li>
                  <li>
                    <a href="#update-a-keyword" class="toc-h2 toc-link" data-title="Update a keyword">Update a keyword</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#keyword-results" class="toc-h1 toc-link" data-title="Keyword results">Keyword results</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-results" class="toc-h2 toc-link" data-title="List results">List results</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#competitors" class="toc-h1 toc-link" data-title="Competitors">Competitors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#competitor-data" class="toc-h2 toc-link" data-title="Competitor data">Competitor data</a>
                  </li>
                  <li>
                    <a href="#list-competitors" class="toc-h2 toc-link" data-title="List competitors">List competitors</a>
                  </li>
                  <li>
                    <a href="#add-competitors" class="toc-h2 toc-link" data-title="Add competitors">Add competitors</a>
                  </li>
                  <li>
                    <a href="#remove-competitor" class="toc-h2 toc-link" data-title="Remove competitor">Remove competitor</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#data-series" class="toc-h1 toc-link" data-title="Data Series">Data Series</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#url-series" class="toc-h2 toc-link" data-title="URL Series">URL Series</a>
                  </li>
                  <li>
                    <a href="#keyword-series" class="toc-h2 toc-link" data-title="Keyword series">Keyword series</a>
                  </li>
                  <li>
                    <a href="#keyword-view-series" class="toc-h2 toc-link" data-title="Keyword view series">Keyword view series</a>
                  </li>
                  <li>
                    <a href="#group-series" class="toc-h2 toc-link" data-title="Group series">Group series</a>
                  </li>
                  <li>
                    <a href="#backlink-series-for-a-url" class="toc-h2 toc-link" data-title="Backlink series (for a URL)">Backlink series (for a URL)</a>
                  </li>
                  <li>
                    <a href="#backlink-series-for-a-view" class="toc-h2 toc-link" data-title="Backlink series (for a view)">Backlink series (for a view)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#data-stats" class="toc-h1 toc-link" data-title="Data Stats">Data Stats</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#keyword-stats" class="toc-h2 toc-link" data-title="Keyword Stats">Keyword Stats</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#keyword-views" class="toc-h1 toc-link" data-title="Keyword Views">Keyword Views</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#available-filters-and-conditions" class="toc-h2 toc-link" data-title="Available filters and conditions">Available filters and conditions</a>
                  </li>
                  <li>
                    <a href="#keyword-filtering" class="toc-h2 toc-link" data-title="Keyword filtering">Keyword filtering</a>
                  </li>
                  <li>
                    <a href="#create-a-view" class="toc-h2 toc-link" data-title="Create a view">Create a view</a>
                  </li>
                  <li>
                    <a href="#get-a-view" class="toc-h2 toc-link" data-title="Get a view">Get a view</a>
                  </li>
                  <li>
                    <a href="#get-view-39-s-filtered-keywords" class="toc-h2 toc-link" data-title="Get view's filtered keywords">Get view's filtered keywords</a>
                  </li>
                  <li>
                    <a href="#update-a-view" class="toc-h2 toc-link" data-title="Update a view">Update a view</a>
                  </li>
                  <li>
                    <a href="#delete-a-view" class="toc-h2 toc-link" data-title="Delete a view">Delete a view</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#serps" class="toc-h1 toc-link" data-title="SERPs">SERPs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-serp-data" class="toc-h2 toc-link" data-title="Get SERP Data">Get SERP Data</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#search-api" class="toc-h1 toc-link" data-title="Search API">Search API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-search-requests" class="toc-h2 toc-link" data-title="List search requests">List search requests</a>
                  </li>
                  <li>
                    <a href="#show-search-request" class="toc-h2 toc-link" data-title="Show search request">Show search request</a>
                  </li>
                  <li>
                    <a href="#make-a-search-request" class="toc-h2 toc-link" data-title="Make a search request">Make a search request</a>
                  </li>
                  <li>
                    <a href="#make-search-requests-batch" class="toc-h2 toc-link" data-title="Make search requests (batch)">Make search requests (batch)</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://nightwatch.io'>Sign Up for Nightwatch</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the <a href="https://nightwatch.io">Nightwatch</a> API docs! Here you can find guides on how to interact with data associated with your Nightwatch account using HTTP requests (REST API).</p>

<p>If you don&#39;t have an account yet, <a href="https://app.nightwatch.io">sign up</a> for a Nightwatch account.</p>

<p>API Access is enabled on <a href="https://nightwatch.io/pricing/">Nightwatch Pro plans</a> only.</p>
<h1 id='authentication'>Authentication</h1>
<p>Nightwatch API uses <code>access_token</code> authentication. You need to provide your <code>access_token</code> URL parameter for all requests you issue against our API.</p>

<p><code>https://api.nightwatch.io/some_action?access_token=ACCESS_TOKEN</code></p>

<aside class="notice">
  You must replace <code>ACCESS_TOKEN</code> with your personal access token.
</aside>

<h1 id='access-token'>Access Token</h1><h2 id='obtain-an-access-token-for-your-user'>Obtain an access token for your user</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/token'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{"email": "YOUR_EMAIL", "password": "YOUR_PASSWORD"}
</span></code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint gets you the access token that you must include with all your requests.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/token</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>Your Nightwatch e-mail</td>
</tr>
<tr>
<td>password</td>
<td>Your Nightwatch password</td>
</tr>
</tbody></table>

<aside class="notice">
  This token is permanent and you only need to get it once. It is only necessary to get it again when you revoke it.
</aside>

<h1 id='user'>User</h1>

<p>This endpoint deals with the current user data. If you want to manage users under
your account (add, remove subusers or change their permissions),
head over to the <a href="#subusers">subusers</a> section.</p>

<h2 id='get-user'>Get user</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/user?access_token=ACCESS_TOKEN'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/user?access_token=ACCESS_TOKEN</code></p>

<p>Available fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>User&#39;s internal ID</td>
</tr>
<tr>
<td>name</td>
<td>User&#39;s name</td>
</tr>
<tr>
<td>report_interval</td>
<td>Summary report interval (in seconds)</td>
</tr>
<tr>
<td>report_hour</td>
<td>Hour of the summary report</td>
</tr>
<tr>
<td>payment_active</td>
<td>Whether or not the paid subscription is active</td>
</tr>
<tr>
<td>plan</td>
<td>Info about the subscription plan</td>
</tr>
<tr>
<td>account_access</td>
<td>Info about the current user account access</td>
</tr>
<tr>
<td>keyword_limit</td>
<td>Keyword limit</td>
</tr>
<tr>
<td>url_limit</td>
<td>URL limit</td>
</tr>
<tr>
<td>backlinks_limit</td>
<td>Backlinks limit</td>
</tr>
<tr>
<td>timezone</td>
<td>User&#39;s timezone</td>
</tr>
<tr>
<td>whitelabel</td>
<td>Whether or not the account is whitelabeled</td>
</tr>
<tr>
<td>agency</td>
<td>Whether or not the account is whitelabeled</td>
</tr>
<tr>
<td>invoice_email</td>
<td>Email used on the invoice</td>
</tr>
<tr>
<td>invoice_name</td>
<td>Name used on the invoice</td>
</tr>
<tr>
<td>invoice_address</td>
<td>Address used on the invoice</td>
</tr>
<tr>
<td>invoice_state</td>
<td>State used on the invoice</td>
</tr>
<tr>
<td>invoice_city</td>
<td>City used on the invoice</td>
</tr>
<tr>
<td>invoice_postcode</td>
<td>Postcode used on the invoice</td>
</tr>
<tr>
<td>invoice_country</td>
<td>Country used on the invoice</td>
</tr>
<tr>
<td>invoice_vat_number</td>
<td>Country used on the invoice</td>
</tr>
<tr>
<td>is_company</td>
<td>Whether or not the account is a company</td>
</tr>
<tr>
<td>credits</td>
<td>How many Partner API credits the account has</td>
</tr>
<tr>
<td>status</td>
<td>Account status (trial, expired, paying, subuser, cancelled)</td>
</tr>
<tr>
<td>active_until</td>
<td>Until when the subscription is good for (this extends on every billing cycle)</td>
</tr>
<tr>
<td>next_payment_due_on</td>
<td>Date of next billing</td>
</tr>
<tr>
<td>keywords_remaining</td>
<td>Keywords remaining until limit is reached</td>
</tr>
<tr>
<td>urls_remaining</td>
<td>URLs remaining until limit is reached</td>
</tr>
<tr>
<td>keyword_count</td>
<td>Keywords used</td>
</tr>
<tr>
<td>url_count</td>
<td>URLs used</td>
</tr>
<tr>
<td>last_login_ip</td>
<td>Last login IP</td>
</tr>
</tbody></table>
<h2 id='update-user'>Update user</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/user?access_token=ACCESS_TOKEN'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>PUT https://api.nightwatch.io/api/v1/user?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Name</td>
</tr>
<tr>
<td>email</td>
<td>Email</td>
</tr>
<tr>
<td>password</td>
<td>Password</td>
</tr>
<tr>
<td>timezone</td>
<td>Timezone in <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">TZ database name format</a></td>
</tr>
<tr>
<td>report_interval</td>
<td>Summary report interval in seconds (available options: 86400, 604800, 2592000)</td>
</tr>
<tr>
<td>invoice_email</td>
<td>Email for invoices</td>
</tr>
<tr>
<td>invoice_name</td>
<td>Name on the invoice</td>
</tr>
<tr>
<td>invoice_address</td>
<td>Address on the invoice</td>
</tr>
<tr>
<td>invoice_state</td>
<td>State on the invoice</td>
</tr>
<tr>
<td>invoice_city</td>
<td>City on the invoice</td>
</tr>
<tr>
<td>invoice_postcode</td>
<td>Postcode on the invoice</td>
</tr>
<tr>
<td>invoice_country</td>
<td>Postcode on the invoice (Full name format, e.g New Zealand)</td>
</tr>
<tr>
<td>invoice_vat_number</td>
<td>Company&#39;s VAT number</td>
</tr>
<tr>
<td>is_company</td>
<td>Is the account a company (needed for VAT exempt: true/false)</td>
</tr>
</tbody></table>

<h1 id='subusers'>Subusers</h1>
<p>Besides the main account with which a Nightwatch account was created, accounts
can also have a number of users that can access its data or just part of it.
These are called subusers, and there are two kinds: <code>admin</code> and <code>limited</code>. Admin
users can access every aspect of an account, including invoicing, billing
settings, and subuser administration. Limited subusers can only access URL
groups they&#39;ve been granted access to. Additionally, permissions can be granted
to limited subusers to create new keywords and URLs.</p>

<p>A third special class of subusers is <code>owner</code>, there is only one of this kind,
and it&#39;s a read-only property, that is, another subuser cannot be made owner.
Owner subusers are an account&#39;s registration users. Onwers cannot be deleted, to
switch the owner of an account you need to contact support.</p>

<aside class="notice">
  Subusers password administration is not managed by this but by the `user`
  endpoint.
</aside>
<h2 id='subusers-data'>Subusers data</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Subuser ID</td>
</tr>
<tr>
<td>email</td>
<td>Subuser email</td>
</tr>
<tr>
<td>access_type</td>
<td>Whether this is an &quot;admin&quot; or &quot;limited&quot; subuser</td>
</tr>
<tr>
<td>owner</td>
<td>Whether this subuser is the owner of the account</td>
</tr>
<tr>
<td>adding_keywords</td>
<td>Whether this user can create new keywords</td>
</tr>
<tr>
<td>adding_urls</td>
<td>Whether this user can create new URLs</td>
</tr>
<tr>
<td>group_ids</td>
<td>URL groups&#39; IDs this subuser has access to</td>
</tr>
<tr>
<td>keyword_limit</td>
<td>Number of keywords this subuser can create</td>
</tr>
<tr>
<td>keyword_limit_enabled</td>
<td>Whether keywords limit is enabled</td>
</tr>
<tr>
<td>url_limit</td>
<td>Number of URLs this subuser can create</td>
</tr>
<tr>
<td>url_limit_enabled</td>
<td>Whether URLs limit is enabled</td>
</tr>
<tr>
<td>last_access</td>
<td>Last time this user logged in</td>
</tr>
<tr>
<td>last_login_ip</td>
<td>Last IP address this subuser logged in from</td>
</tr>
<tr>
<td>created</td>
<td>When this user was created</td>
</tr>
</tbody></table>

<h2 id='list-subusers'>List subusers</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/subusers?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> 
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"access_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"adding_keywords"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"adding_urls"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"about 6 years ago"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"group_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"keyword_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"keyword_limit_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3 minutes ago"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_login_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"url_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"url_limit_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/subusers/keywords?access_token=ACCESS_TOKEN</code></p>
<h2 id='get-a-subuser'>Get a subuser</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/subusers/SUBUSER_ID?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limited"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limited@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"group_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w"> </span><span class="mi">102</span><span class="p">],</span><span class="w">
    </span><span class="s2">"adding_keywords"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"adding_urls"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_limit_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_limit_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/subusers/SUBUSER_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subuser_id*</td>
<td>Subuser ID to fetch</td>
</tr>
</tbody></table>
<h2 id='create-a-subuser'>Create a subuser</h2>

<p>After creating a subuser, the system will send an email to the address provided
with a confirmation link. This link will redirect the user to a page where they
can set their password, and confirm the registration. Only after this process is
completed the subuser account can be used.</p>

<pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/subusers?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
  -X POST <span class="se">\\</span>
  -d <span class="s1">'{
        "subuser": {
          "access_type": "limited",
          "email": "limited@example.com",
          "group_ids": [100, 101, 102],
          "adding_keywords": true,
          "adding_urls": true,
          "keyword_limit": 10,
          "keyword_limit_enabled": true,
          "url_limit": 10,
          "url_limit_enabled": true,
          "created": "less than a minute ago",
          "last_access": null,
          "last_login_ip": ""
        }
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limited"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limited@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"group_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w"> </span><span class="mi">102</span><span class="p">],</span><span class="w">
    </span><span class="s2">"adding_keywords"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"adding_urls"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_limit_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_limit_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/subusers?access_token=ACCESS_TOKEN</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email*</td>
<td>Subuser email</td>
</tr>
<tr>
<td>access_type*</td>
<td>Whether this is an &quot;admin&quot; or &quot;limited&quot; subuser</td>
</tr>
<tr>
<td>adding_keywords</td>
<td>Whether this user can create new keywords</td>
</tr>
<tr>
<td>adding_urls</td>
<td>Whether this user can create new URLs</td>
</tr>
<tr>
<td>group_ids</td>
<td>URL groups&#39; IDs this subuser has access to</td>
</tr>
<tr>
<td>keyword_limit</td>
<td>Number of keywords this subuser can create</td>
</tr>
<tr>
<td>keyword_limit_enabled</td>
<td>Whether keywords limit is enabled</td>
</tr>
<tr>
<td>url_limit</td>
<td>Number of URLs this subuser can create</td>
</tr>
<tr>
<td>url_limit_enabled</td>
<td>Whether URLs limit is enabled</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>
<h2 id='update-a-subuser'>Update a subuser</h2>
<aside class="notice">
  Subusers emails cannot be change.
</aside>

<aside class="notice">
  URL groups are modified as a whole, individual groups cannot be attached or
  removed from the access list. To grant access to an additional URL group, you
  must first fetch the subuser access list, append the URL to it, and then save
  the entire list.
</aside>
<pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/subusers/SUBUSER_ID?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
  -X PUT <span class="se">\\</span>
  -d <span class="s1">'{
        "subuser": {
          "access_type": "limited",
          "email": "limited@example.com",
          "group_ids": [100, 101, 102],
          "adding_keywords": true,
          "adding_urls": true,
          "keyword_limit": 10,
          "keyword_limit_enabled": true,
          "url_limit": 10,
          "url_limit_enabled": true,
          "created": "less than a minute ago",
          "last_access": null,
          "last_login_ip": ""
        }
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"access_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limited"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"group_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w"> </span><span class="mi">102</span><span class="p">,</span><span class="w"> </span><span class="mi">103</span><span class="p">],</span><span class="w">
    </span><span class="s2">"adding_keywords"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"adding_urls"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_limit_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_limit_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT https://api.nightwatch.io/api/v1/subusers/SUBUSER_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subuser_id*</td>
<td>Subuser ID to be updated</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_type</td>
<td>Whether this is an &quot;admin&quot; or &quot;limited&quot; subuser</td>
</tr>
<tr>
<td>adding_keywords</td>
<td>Whether this user can create new keywords</td>
</tr>
<tr>
<td>adding_urls</td>
<td>Whether this user can create new URLs</td>
</tr>
<tr>
<td>group_ids</td>
<td>URL groups&#39; IDs this subuser has access to</td>
</tr>
<tr>
<td>keyword_limit</td>
<td>Number of keywords this subuser can create</td>
</tr>
<tr>
<td>keyword_limit_enabled</td>
<td>Whether keywords limit is enabled</td>
</tr>
<tr>
<td>url_limit</td>
<td>Number of URLs this subuser can create</td>
</tr>
<tr>
<td>url_limit_enabled</td>
<td>Whether URLs limit is enabled</td>
</tr>
</tbody></table>
<h2 id='delete-a-subuser'>Delete a subuser</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/subusers/SUBUSER_ID?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -X DELETE <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
</code></pre>

<blockquote>
<p>The above command returns a HTTP 204 response.</p>
</blockquote>

<h3 id='http-request-5'>HTTP Request</h3>

<p><code>POST https://api.nightwatch.io/api/v1/subusers?access_token=ACCESS_TOKEN</code></p>

<h3 id='parameters-3'>Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subuser_id*</td>
<td>Subuser ID to be deleted</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<h1 id='groups'>Groups</h1>

<p>A group is a top-level container for your URLs and global keyword views.</p>

<aside class="notice">Having at least one group is the prerequisite for adding URLs, keywords and other resources.</aside>

<h2 id='list-groups'>List groups</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/url_groups?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36242</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example group"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"group_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dynamic_view_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/url_groups?access_token=ACCESS_TOKEN</code></p>
<h2 id='get-a-group'>Get a group</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/url_groups/36242?access_token=ACCESS_TOKEN'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36242</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Renamed group"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"group_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dynamic_view_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/url_groups/GROUP_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>group_id</td>
<td>The id of the group</td>
</tr>
</tbody></table>
<h2 id='create-a-group'>Create a group</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/url_groups?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -X POST <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
  -d <span class="s1">'
    {
      "url_group": {
        "name": "Example group",
      }
    }
  '</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36242</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example group"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"group_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dynamic_view_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/url_groups?access_token=ACCESS_TOKEN</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the group</td>
</tr>
</tbody></table>
<h2 id='update-a-group'>Update a group</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/url_groups/36242?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
-X PUT <span class="se">\\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
-d <span class="s1">'
  {
    "url_group": {
      "name": "Renamed group",
    }
  }
'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36242</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Renamed group"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"group_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dynamic_view_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT https://api.nightwatch.io/api/v1/url_groups/GROUP_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>group_id</td>
<td>The id of the group</td>
</tr>
</tbody></table>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the group</td>
</tr>
</tbody></table>
<h2 id='delete-a-group'>Delete a group</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/url_groups/36242?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -X DELETE <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36242</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example group"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"group_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dynamic_view_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE https://api.nightwatch.io/api/v1/url_groups/GROUP_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>group_id</td>
<td>The id of the group</td>
</tr>
</tbody></table>

<h1 id='urls'>URLs</h1>
<p>URLs represent a site or domain for which a set of keywords are being tracked.
URLs can also contain backlinks, and are used to perform site audits on.
Althought these two last functionalities have their own endpoint, but their
specific settings are configured with the URL endpoint.</p>

<aside class="notice">
  URLs belong to a URL group, having at least one group is the prerequisite for
  adding URLs, keywords and other resources.
</aside>
<h2 id='url-data'>URL data</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>URL ID</td>
</tr>
<tr>
<td>url_type</td>
<td>URL engine type (deprecated)</td>
</tr>
<tr>
<td>url</td>
<td>URL</td>
</tr>
<tr>
<td>last_processed_at</td>
<td>Time when number of Google indexed pages was last retrieved</td>
</tr>
<tr>
<td>created_at</td>
<td>Time when this URL was created</td>
</tr>
<tr>
<td>keyword_count</td>
<td>Number of keywords this URL has</td>
</tr>
<tr>
<td>domain_authority</td>
<td>Domain authority ranking</td>
</tr>
<tr>
<td>domain_authority_change</td>
<td>Last observed change in domain authority</td>
</tr>
<tr>
<td>google_indexed</td>
<td>Number of pages indexed by Google</td>
</tr>
<tr>
<td>keyword_changes</td>
<td>How many keywords went up (1), went down (-1), or stayed the same (0)</td>
</tr>
<tr>
<td>url_group_id</td>
<td>Group ID this URL belongs to</td>
</tr>
<tr>
<td>places_info</td>
<td>Place extended matching data</td>
</tr>
<tr>
<td>places_info.place_cid</td>
<td>Match place by CID</td>
</tr>
<tr>
<td>places_info.place_title</td>
<td>Match place by title</td>
</tr>
<tr>
<td>places_info.place_description</td>
<td>Places description, informational, no matching is performed on description</td>
</tr>
<tr>
<td>url_info</td>
<td>Places_info alias</td>
</tr>
<tr>
<td>places_match</td>
<td>Place&#39;s CID (<code>cid_&lt;CID&gt;</code> format) or, if CID is empty, place&#39;s title</td>
</tr>
<tr>
<td>places_keyword</td>
<td>(deprecated)</td>
</tr>
<tr>
<td>places_image_title</td>
<td>Title for tracking in image carousel</td>
</tr>
<tr>
<td>custom_name</td>
<td>Custom URL name</td>
</tr>
<tr>
<td>youtube_video_id</td>
<td>Youtube video ID, for Youtube video tracking purposes</td>
</tr>
<tr>
<td>youtube_channel</td>
<td>Youtube channel name, for Youtube channel tracking purposes</td>
</tr>
<tr>
<td>competitors</td>
<td>List of competitors this URL has</td>
</tr>
<tr>
<td>google_indexed_change</td>
<td>Daily change of number of pages index by Google</td>
</tr>
<tr>
<td>report_count</td>
<td>How many reports this URL has</td>
</tr>
<tr>
<td>google_analytics_profile_id</td>
<td>Google Analytics profile ID, might be empty if GA integration is not setup</td>
</tr>
<tr>
<td>country_code</td>
<td>ISO3166 alpha-2 country code</td>
</tr>
<tr>
<td>language_code</td>
<td>ISO639 language code</td>
</tr>
<tr>
<td>search_console_url</td>
<td>Google Search Console URL this URL matches with</td>
</tr>
<tr>
<td>backlinks_enabled</td>
<td>Whether backlinks are enabled for this URL</td>
</tr>
<tr>
<td>backlinks_status</td>
<td>Backlinks status data (read only)</td>
</tr>
<tr>
<td>backlinks_count</td>
<td>Total number of backlinks</td>
</tr>
<tr>
<td>google_analytics_updated_at</td>
<td>Last time GA data was updated</td>
</tr>
<tr>
<td>backlinks_fetching_enabled</td>
<td>Whether this URL has recurring backlinks fetching enabled</td>
</tr>
<tr>
<td>include_local_pack_in_main_position</td>
<td>Whether to include local pack rankings in the main one (boolean, default: true)</td>
</tr>
<tr>
<td>include_places_image_in_main_position</td>
<td>Whether to include image carousel rankings in the main one (boolean, default: true)</td>
</tr>
<tr>
<td>include_featured_snippet_in_main_position</td>
<td>Whether to include feature snippets rankings in the main one (boolean, default: true)</td>
</tr>
<tr>
<td>include_knowledge_panel_in_main_position</td>
<td>Whether to include knowledge panel rankings in the main one (boolean, default: true)</td>
</tr>
<tr>
<td>crawling_session_path_ignore_pattern</td>
<td>Ignore path patterns for site audits</td>
</tr>
<tr>
<td>crawling_session_url_params_enabled</td>
<td>Whether to include query parameters in site audits (boolean, default: true)</td>
</tr>
<tr>
<td>crawling_session_follow_nofollow_links</td>
<td>Whether to follow nofollow links in site audits (boolean, default: true)</td>
</tr>
<tr>
<td>match_subdomains</td>
<td>Whether to match subdomains (boolean, default: false)</td>
</tr>
<tr>
<td>match_nested_urls</td>
<td>Whether to match subpaths in the URL (boolean, default: true)</td>
</tr>
<tr>
<td>site_audit_interval</td>
<td>Recurring site audit intervals (in seconds, accepted valud are: 604800 (1 week) and 2592000 (30 days))</td>
</tr>
<tr>
<td>backlinks_settings.ignored_domains</td>
<td>List of domain backlinks from will be ignored</td>
</tr>
<tr>
<td>backlinks_settings.min_url_rating</td>
<td>Minimum URL rating for backlink domains</td>
</tr>
<tr>
<td>next_site_audit_crawl_at</td>
<td>Next time a recurring site audit will happen (read only)</td>
</tr>
<tr>
<td>site_audit_interval</td>
<td>Recurring site audit intervals (in seconds, accepted valud are: 604800 (1 week) and 2592000 (30 days))</td>
</tr>
<tr>
<td>backlinks_settings.ignored_domains</td>
<td>List of domain backlinks from will be ignored</td>
</tr>
<tr>
<td>backlinks_settings.min_url_rating</td>
<td>Minimum URL rating for backlink domains</td>
</tr>
<tr>
<td>seo_metrics</td>
<td>Moz, Majestic, and Ahref SEO metrics</td>
</tr>
<tr>
<td>seo_metrics_changes</td>
<td>Last observed changes for Moz, Majestic, and Ahref SEO metrics</td>
</tr>
<tr>
<td>match_subdomains</td>
<td>Whether to match URL subdomains</td>
</tr>
<tr>
<td>match_nested_urls</td>
<td>Whether to match URL subpaths</td>
</tr>
</tbody></table>

<h2 id='list-urls'>List URLs</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_processed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-21T00:00:53.892Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-08T17:38:43.800Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"domain_authority_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"google_indexed"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_changes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"-1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36241</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_match"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_keyword"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_image_title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"custom_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/urls?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>group_id</td>
<td>Only return URLs belonging to this group (optional)</td>
</tr>
</tbody></table>
<h2 id='get-a-url'>Get a URL</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/31234?access_token=ACCESS_TOKEN'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_processed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-21T00:00:53.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-08T17:38:43.800Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domain_authority_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"google_indexed"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_changes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"0"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"-1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36241</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_match"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_keyword"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_image_title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"custom_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/urls/URL_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url_id</td>
<td>The id of the URL to be fetched</td>
</tr>
</tbody></table>
<h2 id='create-a-url'>Create a URL</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -X POST <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
  -d <span class="s1">'
    {
      "url": {
        "url": "example.com",
        "custom_name": "Example Site",
        "country_code": "us",
        "language_code": "en",
        "places_match": null,
        "match_nested_urls": false,
        "match_subdomains": false,
        "url_group_id": 1234,
      }
    }
  '</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_processed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-21T00:00:53.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-08T17:38:43.800Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domain_authority_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"google_indexed"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_changes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"0"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"-1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36241</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_match"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_keyword"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_image_title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"custom_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/urls?access_token=ACCESS_TOKEN</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url*</td>
<td>URL to track</td>
</tr>
<tr>
<td>custom_name</td>
<td>Custom URL name, used for displaying purposes</td>
</tr>
<tr>
<td>country_code*</td>
<td>ISO3166 alpha-2 coutry code</td>
</tr>
<tr>
<td>language_code*</td>
<td>ISO639-1 language code</td>
</tr>
<tr>
<td>places_match</td>
<td>Place name or CID</td>
</tr>
<tr>
<td>match_nested_urls</td>
<td>Whether to match subpaths in the URL</td>
</tr>
<tr>
<td>match_subdomains</td>
<td>Whether to match subdomains</td>
</tr>
<tr>
<td>url_group_id*</td>
<td>Group this URL will belong to</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<p><em>Note</em>: country and language codes are used for retrieving the number of indexed
pages by Google, and as a default setting for keywords. However, keywords have
their own location and language specification, and are not affected by these
settings.</p>
<h2 id='update-a-url'>Update a URL</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/31234?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
-X PUT <span class="se">\\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
-d <span class="s1">'
  {
    "url": {
      "url": "www.example.com"
      "custom_name": "Example URL"
      "country_code": "si"
      "language_code": "sl"
      "places_match": "cid_123456789"
      "match_nested_urls": true
      "match_subdomains": false
      "url_group_id": 12345
    }
  }
</span></code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_processed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-21T00:00:53.892Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-08T17:38:43.800Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"domain_authority_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"google_indexed"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_changes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"-1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36241</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_match"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_keyword"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_image_title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"custom_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT https://api.nightwatch.io/api/v1/urls/URL_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URL_ID</td>
<td>URL ID</td>
</tr>
<tr>
<td>url_group_id</td>
<td>Group ID this URL belong to</td>
</tr>
<tr>
<td>places_match</td>
<td>Place name or CID</td>
</tr>
<tr>
<td>custom_name</td>
<td>Custom URL name, used for displaying purposes</td>
</tr>
<tr>
<td>country_code</td>
<td>ISO3166 alpha-2 country code</td>
</tr>
<tr>
<td>language_code</td>
<td>ISO639 language code</td>
</tr>
<tr>
<td>include_local_pack_in_main_position</td>
<td>Whether to include local pack rankings in the main one (boolean, default: true)</td>
</tr>
<tr>
<td>include_places_image_in_main_position</td>
<td>Whether to include image carousel rankings in the main one (boolean, default: true)</td>
</tr>
<tr>
<td>include_featured_snippet_in_main_position</td>
<td>Whether to include feature snippets rankings in the main one (boolean, default: true)</td>
</tr>
<tr>
<td>include_knowledge_panel_in_main_position</td>
<td>Whether to include knowledge panel rankings in the main one (boolean, default: true)</td>
</tr>
<tr>
<td>crawling_session_path_ignore_pattern</td>
<td>Ignore path patterns for site audits</td>
</tr>
<tr>
<td>crawling_session_url_params_enabled</td>
<td>Whether to include query parameters in site audits (boolean, default: true)</td>
</tr>
<tr>
<td>crawling_session_follow_nofollow_links</td>
<td>Whether to follow nofollow links in site audits (boolean, default: true)</td>
</tr>
<tr>
<td>match_subdomains</td>
<td>Whether to match subdomains (boolean, default: false)</td>
</tr>
<tr>
<td>match_nested_urls</td>
<td>Whether to match subpaths in the URL (boolean, default: true)</td>
</tr>
<tr>
<td>site_audit_interval</td>
<td>Recurring site audit intervals (in seconds, accepted valud are: 604800 (1 week) and 2592000 (30 days))</td>
</tr>
<tr>
<td>backlinks_settings.ignored_domains</td>
<td>List of domain backlinks from will be ignored</td>
</tr>
<tr>
<td>backlinks_settings.min_url_rating</td>
<td>Minimum URL rating for backlink domains</td>
</tr>
</tbody></table>
<h2 id='delete-a-url'>Delete a URL</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/31234?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -X DELETE <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_processed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-21T00:00:53.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-08T17:38:43.800Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domain_authority_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"google_indexed"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_changes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"0"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"-1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36241</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_match"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_keyword"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"places_image_title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"custom_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE https://api.nightwatch.io/api/v1/urls/URL_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>group_id</td>
<td>The id of the group</td>
</tr>
</tbody></table>

<h1 id='keywords'>Keywords</h1>
<p>Keywords are queries or terms that are used to perform searches in search engines.</p>

<aside class="notice">Keywords are uniquely defined with a specific combination of query, location, language, search engine, term and mobile setting.
<br><br>
  The prerequisite for adding keywords is the existence of a URL. All keywords need to be referenced to a specific URL.
</aside>
<h2 id='list-keywords'>List keywords</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/URL_ID/keywords?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_processed_at"</span><span class="p">:</span><span class="s2">"2019-06-04T00:18:23.187Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"query"</span><span class="p">:</span><span class="s2">"goji berries"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2016-10-08T11:30:07.923Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="s2">"search_keyword_url_id"</span><span class="p">:</span><span class="mi">22199</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mobile"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"local_search"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"google_hl"</span><span class="p">:</span><span class="s2">"sl"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"google_gl"</span><span class="p">:</span><span class="s2">"si"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_day_change"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_week_change"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_month_change"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uri"</span><span class="p">:</span><span class="s2">"/"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"result_url"</span><span class="p">:</span><span class="s2">"https://topgojiberries.com/"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_position_change"</span><span class="p">:[</span><span class="mi">-1</span><span class="p">,</span><span class="s2">"2019-05-26T00:18:40.646Z"</span><span class="p">,</span><span class="kc">true</span><span class="p">],</span><span class="w">
      </span><span class="s2">"results_count"</span><span class="p">:</span><span class="mi">2770</span><span class="p">,</span><span class="w">
      </span><span class="s2">"adwords_local_search_volume"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"adwords_local_average_cpc"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"adwords_global_search_volume"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"adwords_global_average_cpc"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_type"</span><span class="p">:</span><span class="s2">"organic"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_organic"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_places"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_places_image"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_local_pack"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_featured_snippet"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_knowledge_panel"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:[{</span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"Branded"</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Branded"</span><span class="p">},{</span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"Difficult"</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Difficult"</span><span class="p">}],</span><span class="w">
      </span><span class="s2">"engine"</span><span class="p">:</span><span class="s2">"google"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"url"</span><span class="p">:</span><span class="s2">"http://topgojiberries.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"previous_position"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="s2">"best_position"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_changed_during_last_day"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_changed_during_last_week"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_changed_during_last_month"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"historic_positions"</span><span class="p">:[</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="w">
      </span><span class="s2">"last_historic_position_on"</span><span class="p">:</span><span class="s2">"2019-06-04"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position_change"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"available_serp_features"</span><span class="p">:{</span><span class="s2">"places_image"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="s2">"organic"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="s2">"local_pack"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="s2">"knowledge_panel"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="s2">"featured_snippet"</span><span class="p">:</span><span class="kc">false</span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/urls/URL_ID/keywords?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sort</td>
<td>The name of the field to sort by. <br><br>Possible values: id, query, google_gl, google_hl, last_processed_at, created_at, updated_at, position, position_type, position_organic, position_places, position_places_image, position_changed_by, position_changed_status, position_changed_at, position_local_pack, position_featured_snippet, position_knowledge_panel, local_search, position_changed_during_last_day, position_changed_during_last_week, position_changed_during_last_month, mobile, engine, previous_position, best_position, available_serp_features, adwords_global_search_volume, adwords_global_average_cpc, adwords_local_search_volume, adwords_local_average_cpc</td>
</tr>
<tr>
<td>direction</td>
<td>The direction to sort by. <br><br>Possible values: asc, desc</td>
</tr>
<tr>
<td>search</td>
<td>A general search string to filter by keywords&#39; term, tags, result URL and location</td>
</tr>
<tr>
<td>page</td>
<td>Page number (pagination)</td>
</tr>
<tr>
<td>limit</td>
<td>Amount of keywords in a page</td>
</tr>
</tbody></table>

<aside class="notice">
  It's possible to use advanced filtering for retrieving a list of keywords. Head over to the <a href="#keyword-filtering">Views</a> section.
</aside>
<h3 id='response-headers'>Response headers</h3>
<table><thead>
<tr>
<th>Header</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>X-Page-Count</td>
<td>Number of pages for specified page limit</td>
</tr>
<tr>
<td>X-Total-Count</td>
<td>Total number of keywords</td>
</tr>
</tbody></table>
<h2 id='add-keywords'>Add keywords</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/URL_ID/keywords/batch_create?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
  -X POST <span class="se">\\</span>
  -d <span class="s1">'{"keywords":"keyword1\nkeyword2\nkeyword3",
        "tags":[],
        "google_gl":"us",
        "google_hl":"en",
        "mobile":false,
        "desktop":true,
        "search_engine":
        "google"
      }'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"query"</span><span class="p">:</span><span class="s2">"keyword1"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"query"</span><span class="p">:</span><span class="s2">"keyword2"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/urls/URL_ID/keywords?access_token=ACCESS_TOKEN</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>keywords*</td>
<td>Search queries separated by new lines (\n)</td>
</tr>
<tr>
<td>google_hl*</td>
<td>Search language code (see <a href="https://developers.google.com/custom-search/docs/ref_languages">here</a> for available options)</td>
</tr>
<tr>
<td>google_gl*</td>
<td>Search geolocation code (see <a href="https://developers.google.com/custom-search/docs/xml_results_appendices#countryCodes">here</a> for available options)</td>
</tr>
<tr>
<td>search_engine*</td>
<td>Search engine (&#39;google&#39;, &#39;youtube&#39;, &#39;places&#39;, &#39;bing&#39; or &#39;yahoo&#39;)</td>
</tr>
<tr>
<td>adwords_location_id</td>
<td>Search location Criteria ID (see <a href="https://developers.google.com/ad-exchange/rtb/geotargeting">here</a> for available options)</td>
</tr>
<tr>
<td>mobile</td>
<td>Search adjusted for mobile devices (true or false, default: false)</td>
</tr>
<tr>
<td>desktop</td>
<td>Search adjusted for desktop devices (true or false, default: true)</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<aside class="notice">
  Creating keywords with both mobile and desktop set to true will create 2 separate instances for every provided keyword.
</aside>
<h2 id='remove-keywords'>Remove keywords</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/URL_ID/keywords/batch_destroy?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
  -d <span class="s1">'{"keyword_ids":["1","2"]}'</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 response.</p>
</blockquote>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/urls/URL_ID/keywords/batch_destroy?access_token=ACCESS_TOKEN</code></p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>keyword_ids*</td>
<td>An array of keyword IDs for removal</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>
<h2 id='update-a-keyword'>Update a keyword</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/URL_ID/keywords/KEYWORD_ID?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -X PUT <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json; charset=UTF-8'</span> <span class="se">\\</span>
  -d <span class="s1">'{"keyword":
       {"tags":["Branded"]"}
      }'</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 response.</p>
</blockquote>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT https://api.nightwatch.io/api/v1/urls/URL_ID/keywords/KEYWORD_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='parameters-3'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tags</td>
<td>An array of tags</td>
</tr>
</tbody></table>

<aside class="notice">
  Currently keyword tags are the only attribute that can be updated on a keyword.
</aside>

<h1 id='keyword-results'>Keyword results</h1>
<p>Every keyword gets a new result every day. A keyword result is a structure that contains
data on the keyword&#39;s position for the specified URL in a SERP.</p>
<h2 id='list-results'>List results</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/URL_ID/keywords/KEYWORD_ID/results?time_start=2017-05-08&amp;time_end=2017-05-09&amp;access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">24771</span><span class="p">,</span><span class="w">
    </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-09 20:01:12 +0200"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"position_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"position_organic"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"position_places"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"position_places_image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"position_local_pack"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result_url_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/urls/URL_ID/keywords/KEYWORD_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>time_start*</td>
<td>The starting date in YYYY-MM-DD format (e.g. 2019-01-01)</td>
</tr>
<tr>
<td>time_end*</td>
<td>The ending date in YYYY-MM-DD format (e.g. 2019-01-01)</td>
</tr>
</tbody></table>

<h1 id='competitors'>Competitors</h1>
<p>Competitors are additional URLs that will be tracked along with the main URL.
They are used to track competitor sites with the same set of keywords as the
parent URL.</p>

<aside class="notice">
  The prerequisite for adding competitors is the existence of a URL. All
  competitors need to be referenced to a specific URL.
</aside>
<h2 id='competitor-data'>Competitor data</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Competitor ID</td>
</tr>
<tr>
<td>url</td>
<td>URL of the competitor</td>
</tr>
<tr>
<td>search_keyword_url_id</td>
<td>URL ID this competitor belong to</td>
</tr>
<tr>
<td>custom_name</td>
<td>Competitor custom name</td>
</tr>
<tr>
<td>match_subdomains</td>
<td>Whether this competitor matches subdomains</td>
</tr>
<tr>
<td>match_nested_urls</td>
<td>Whether this competitor matches nested URL paths</td>
</tr>
<tr>
<td>places_image_title</td>
<td>Title for tracking in image carousel</td>
</tr>
<tr>
<td>places_info</td>
<td>Place extended matching data</td>
</tr>
<tr>
<td>places_info.place_cid</td>
<td>Match place by CID</td>
</tr>
<tr>
<td>places_info.place_title</td>
<td>Match place by title</td>
</tr>
<tr>
<td>places_info.place_description</td>
<td>Places description, informational, no matching is performed on description</td>
</tr>
<tr>
<td>places_match</td>
<td>Place&#39;s CID (<code>cid_&lt;CID&gt;</code> format) or, if CID is empty, place&#39;s title</td>
</tr>
</tbody></table>

<h2 id='list-competitors'>List competitors</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/URL_ID/competitors?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> 
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"match_nested_urls"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"match_subdomains"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"places_image_title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"places_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"places_match"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"search_keyword_url_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"custom_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Competitor"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/urls/URL_ID/competitors?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url_id</td>
<td>The id of the URL to fetch competitors for</td>
</tr>
</tbody></table>
<h2 id='add-competitors'>Add competitors</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/URL_ID/competitors?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
  -X POST <span class="se">\\</span>
  -d <span class="s1">'{
        "competitor": {
          "id": 2,
          "url": "http://new.example.com/",
          "match_subdomains": true,
          "match_nested_urls": false,
          "places_match": false,
          "places_image_title": null,
          "custom_name": "New Example Competitor"
        }
      }'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://new.example.com/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"match_nested_urls"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"match_subdomains"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_image_title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"places_match"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"search_keyword_url_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"custom_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Example Competitor"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/urls/URL_ID/competitors?access_token=ACCESS_TOKEN</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url*</td>
<td>URL to track</td>
</tr>
<tr>
<td>match_subdomains</td>
<td>Whether to match subdomains</td>
</tr>
<tr>
<td>match_nested_urls</td>
<td>Whether to match subpaths in the URL</td>
</tr>
<tr>
<td>places_match</td>
<td>Place name or CID</td>
</tr>
<tr>
<td>places_image_title</td>
<td>Title for tracking in image carousel</td>
</tr>
<tr>
<td>custom_name</td>
<td>Custom competitor name</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>
<h2 id='remove-competitor'>Remove competitor</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/URL_ID/competitors/COMPETITOR_ID?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -X DELETE <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 response.</p>
</blockquote>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/urls/URL_ID/competitors/COMPETITOR_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url_id*</td>
<td>URL ID the competitor belongs to</td>
</tr>
<tr>
<td>competitor_id*</td>
<td>Competitor ID to be deleted</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<h1 id='data-series'>Data Series</h1>
<p>Using Nightwatch API, you can retrieve data series for the following resources:</p>

<ul>
<li>URL and Competitor URLs</li>
<li>Keyword</li>
<li>Keyword View</li>
<li>Group</li>
<li>Backlinks</li>
<li>Backlink Views</li>
</ul>

<p>All series are represented by an array of date-value pairs, which you can use to visualize graphs
and calculate statistics.</p>
<h2 id='url-series'>URL Series</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN&amp;url_ids%5B%5D=161490&amp;date_from=2019-04-02&amp;date_to=2019-07-01&amp;with_competitors=false'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
  </span><span class="err">url_id</span><span class="p">:</span><span class="w"> </span><span class="mi">161490</span><span class="p">,</span><span class="w">
  </span><span class="err">url</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
  </span><span class="err">url_series</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"average_position"</span><span class="p">,</span><span class="w">
      </span><span class="err">series</span><span class="p">:</span><span class="w">  </span><span class="p">[[</span><span class="s2">"2019-04-22"</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">],</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="err">competitor_series</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">competitor_id</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="err">competitor_url</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
      </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"average_position"</span><span class="p">,</span><span class="w">
      </span><span class="err">series</span><span class="p">:</span><span class="w">  </span><span class="p">[[</span><span class="s2">"2019-04-22"</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url_ids*</td>
<td>Array of URL ids</td>
</tr>
<tr>
<td>with_competitors</td>
<td>Include competititor URL series (true or false, default: true)</td>
</tr>
<tr>
<td>date_from*</td>
<td>Start date for series in YYYY-MM-DD format (e.g 2019-01-02)</td>
</tr>
<tr>
<td>date_to*</td>
<td>End date for series in YYYY-MM-DD format (e.g. 2019-04-02)</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<p>Available URL series:</p>

<table><thead>
<tr>
<th>Series</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>average_position</td>
<td>Average rank position</td>
</tr>
<tr>
<td>search_visibility_index</td>
<td>Search visibility index (<a href="https://docs.nightwatch.io/article/51-metrics-explanation">more info</a>)</td>
</tr>
<tr>
<td>click_potential</td>
<td>Click potential (<a href="https://docs.nightwatch.io/article/51-metrics-explanation">more info</a>)</td>
</tr>
<tr>
<td>keyword_distribution</td>
<td>Distribution of keyword positions in Top 3, Top 10, Top 100, No rank</td>
</tr>
<tr>
<td>total_keywords</td>
<td>Number of keywords tracked</td>
</tr>
<tr>
<td>indexed_pages</td>
<td>Number of indexed pages on Google</td>
</tr>
<tr>
<td>moz_domain_authority</td>
<td>Moz&#39;s Domain Authority</td>
</tr>
<tr>
<td>moz_page_authority</td>
<td>Moz&#39;s Page Authority</td>
</tr>
<tr>
<td>ahrefs_domain_rating</td>
<td>Ahrefs&#39; Domain Rating</td>
</tr>
<tr>
<td>ahrefs_rank</td>
<td>Ahrefs&#39; URL Rank</td>
</tr>
<tr>
<td>majestic_trust_flow</td>
<td>Majestic&#39;s Trust Flow</td>
</tr>
<tr>
<td>majestic_citation_flow</td>
<td>Majestic&#39;s Citation Flow</td>
</tr>
<tr>
<td>clicks</td>
<td>Number of organic search clicks (when Search Console property is connected)</td>
</tr>
<tr>
<td>impressions</td>
<td>Number of organic search impressions (when Search Console property is connected)</td>
</tr>
<tr>
<td>sessions</td>
<td>Number of Google Analytics Sessions (when Google Analytics property is connected)</td>
</tr>
<tr>
<td>pageviews</td>
<td>Number of Google Analytics Pageviews (when Google Analytics property is connected)</td>
</tr>
<tr>
<td>users</td>
<td>Number of Google Analytics Users (when Google Analytics property is connected)</td>
</tr>
<tr>
<td>search_console_position</td>
<td>Search Console average position (when Search Console property is connected)</td>
</tr>
<tr>
<td>ctr</td>
<td>Search Console CTR (when Search Console property is connected)</td>
</tr>
</tbody></table>
<h2 id='keyword-series'>Keyword series</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN&amp;keyword_ids%5B%5D=1212189&amp;date_from=2019-06-04&amp;date_to=2019-07-04'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
  </span><span class="err">keyword_id</span><span class="p">:</span><span class="w"> </span><span class="mi">1212189</span><span class="p">,</span><span class="w">
  </span><span class="err">keyword</span><span class="p">:</span><span class="w"> </span><span class="s2">"goji berries"</span><span class="p">,</span><span class="w">
  </span><span class="err">keyword_series</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"position"</span><span class="p">,</span><span class="w">
      </span><span class="err">series</span><span class="p">:</span><span class="w">  </span><span class="p">[[</span><span class="s2">"2019-04-22"</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="err">competitor_series</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">competitor_id</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="err">competitor_url</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
      </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"position"</span><span class="p">,</span><span class="w">
      </span><span class="err">series</span><span class="p">:</span><span class="w">  </span><span class="p">[[</span><span class="s2">"2019-04-22"</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>keyword_ids*</td>
<td>Array of keyword ids</td>
</tr>
<tr>
<td>date_from*</td>
<td>Start date for series in YYYY-MM-DD format (e.g 2019-01-02)</td>
</tr>
<tr>
<td>date_to*</td>
<td>End date for series in YYYY-MM-DD format (e.g. 2019-04-02)</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<p>Available keyword series:</p>

<table><thead>
<tr>
<th>Series</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>position</td>
<td>Keyword&#39;s rank</td>
</tr>
<tr>
<td>position_organic</td>
<td>Keyword&#39;s organic rank</td>
</tr>
<tr>
<td>position_local_pack</td>
<td>Keyword&#39;s local pack rank</td>
</tr>
<tr>
<td>position_places</td>
<td>Keywords rank in Google Places (when engine is Google Places)</td>
</tr>
<tr>
<td>position_places_image</td>
<td>Keywords rank in image carousel (when engine is Google)</td>
</tr>
<tr>
<td>clicks</td>
<td>Number of organic search clicks (when Search Console property is connected)</td>
</tr>
<tr>
<td>impressions</td>
<td>Number of organic search impressions (when Search Console property is connected)</td>
</tr>
<tr>
<td>search_console_position</td>
<td>Search Console average position (when Search Console property is connected)</td>
</tr>
<tr>
<td>ctr</td>
<td>Search Console CTR (when Search Console property is connected)</td>
</tr>
</tbody></table>
<h2 id='keyword-view-series'>Keyword view series</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN&amp;dynamic_view_ids%5B%5D=123&amp;date_from=2019-06-04&amp;date_to=2019-07-04'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
  </span><span class="err">dynamic_view_id</span><span class="p">:</span><span class="w"> </span><span class="mi">161490</span><span class="p">,</span><span class="w">
  </span><span class="err">dynamic_view_name</span><span class="p">:</span><span class="w"> </span><span class="s2">"A view"</span><span class="w">
  </span><span class="err">dynamic_view_series</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"average_position"</span><span class="p">,</span><span class="w">
      </span><span class="err">series</span><span class="p">:</span><span class="w">  </span><span class="p">[[</span><span class="s2">"2019-06-04"</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">],</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dynamic_view_ids*</td>
<td>Array of keyword view ids</td>
</tr>
<tr>
<td>date_from*</td>
<td>Start date for series in YYYY-MM-DD format (e.g 2019-01-02)</td>
</tr>
<tr>
<td>date_to*</td>
<td>End date for series in YYYY-MM-DD format (e.g. 2019-04-02)</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<p>Available keyword series:</p>

<table><thead>
<tr>
<th>Series</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>average_position</td>
<td>Average rank position</td>
</tr>
<tr>
<td>search_visibility_index</td>
<td>Search visibility index (<a href="https://docs.nightwatch.io/article/51-metrics-explanation">more info</a>)</td>
</tr>
<tr>
<td>click_potential</td>
<td>Click potential (<a href="https://docs.nightwatch.io/article/51-metrics-explanation">more info</a>)</td>
</tr>
<tr>
<td>keyword_distribution</td>
<td>Distribution of keyword positions in Top 3, Top 10, Top 100, No rank</td>
</tr>
<tr>
<td>total_keywords</td>
<td>Number of keywords that fall into view&#39;s filters on specified days</td>
</tr>
<tr>
<td>up_down</td>
<td>Number of keywords whose position increased and decreased</td>
</tr>
</tbody></table>
<h2 id='group-series'>Group series</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN&amp;url_group_ids%5B%5D=123&amp;date_from=2019-06-04&amp;date_to=2019-07-04'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
  </span><span class="err">url_group_id</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="err">url_group_name</span><span class="p">:</span><span class="w"> </span><span class="s2">"A group"</span><span class="w">
  </span><span class="err">url_group_series</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"average_position"</span><span class="p">,</span><span class="w">
      </span><span class="err">series</span><span class="p">:</span><span class="w">  </span><span class="p">[[</span><span class="s2">"2019-06-04"</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">],</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url_group_ids*</td>
<td>Array of group ids</td>
</tr>
<tr>
<td>date_from*</td>
<td>Start date for series in YYYY-MM-DD format (e.g 2019-01-02)</td>
</tr>
<tr>
<td>date_to*</td>
<td>End date for series in YYYY-MM-DD format (e.g. 2019-04-02)</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<p>Available keyword series:</p>

<table><thead>
<tr>
<th>Series</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>average_position</td>
<td>Average rank position</td>
</tr>
<tr>
<td>search_visibility_index</td>
<td>Search visibility index (<a href="https://docs.nightwatch.io/article/51-metrics-explanation">more info</a>)</td>
</tr>
<tr>
<td>click_potential</td>
<td>Click potential (<a href="https://docs.nightwatch.io/article/51-metrics-explanation">more info</a>)</td>
</tr>
<tr>
<td>keyword_distribution</td>
<td>Distribution of keyword positions in Top 3, Top 10, Top 100, No rank</td>
</tr>
<tr>
<td>total_keywords</td>
<td>Number of keywords in the group on specified days</td>
</tr>
<tr>
<td>up_down</td>
<td>Number of keywords whose position increased and decreased</td>
</tr>
</tbody></table>
<h2 id='backlink-series-for-a-url'>Backlink series (for a URL)</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN&amp;url_id_for_all_backlinks=123&amp;date_from=2019-06-04&amp;date_to=2019-07-04'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
  </span><span class="err">backlink_view_series</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"backlinks_total"</span><span class="p">,</span><span class="w">
      </span><span class="err">series</span><span class="p">:</span><span class="w">  </span><span class="p">[[</span><span class="s2">"2019-06-04"</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">],</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"backlinks_referring_ips"</span><span class="p">,</span><span class="w">
      </span><span class="err">series</span><span class="p">:</span><span class="w">  </span><span class="p">[[</span><span class="s2">"2019-06-04"</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">],</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url_id_for_all_backlinks*</td>
<td>URL id</td>
</tr>
<tr>
<td>date_from*</td>
<td>Start date for series in YYYY-MM-DD format (e.g 2019-01-02)</td>
</tr>
<tr>
<td>date_to*</td>
<td>End date for series in YYYY-MM-DD format (e.g. 2019-04-02)</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<p>Available backlink series:</p>

<table><thead>
<tr>
<th>Series</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>backlinks_all</td>
<td>Active backlinks</td>
</tr>
<tr>
<td>backlinks_total</td>
<td>Total backlinks</td>
</tr>
<tr>
<td>backlinks_referring_ips</td>
<td>Referring IPs</td>
</tr>
<tr>
<td>backlinks_referring_domains</td>
<td>Referring Domains</td>
</tr>
<tr>
<td>backlinks_referring_subnets</td>
<td>Referring Subnets</td>
</tr>
</tbody></table>
<h2 id='backlink-series-for-a-view'>Backlink series (for a view)</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN&amp;backlink_view_ids%5B%5D=123&amp;date_from=2019-04-02&amp;date_to=2019-07-01'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
  </span><span class="err">backlink_view_id</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="err">backlink_view_name</span><span class="p">:</span><span class="w"> </span><span class="s2">"DR &gt; 10"</span><span class="w">
  </span><span class="err">backlink_view_series</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"backlinks_total"</span><span class="p">,</span><span class="w">
      </span><span class="err">series</span><span class="p">:</span><span class="w">  </span><span class="p">[[</span><span class="s2">"2019-06-04"</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">],</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"backlinks_referring_ips"</span><span class="p">,</span><span class="w">
      </span><span class="err">series</span><span class="p">:</span><span class="w">  </span><span class="p">[[</span><span class="s2">"2019-06-04"</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">],</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/series?access_token=ACCESS_TOKEN</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>backlink_view_ids*</td>
<td>Backlink view ids</td>
</tr>
<tr>
<td>date_from*</td>
<td>Start date for series in YYYY-MM-DD format (e.g 2019-01-02)</td>
</tr>
<tr>
<td>date_to*</td>
<td>End date for series in YYYY-MM-DD format (e.g. 2019-04-02)</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<p>Available backlink series:</p>

<table><thead>
<tr>
<th>Series</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>backlinks_all</td>
<td>Active backlinks</td>
</tr>
<tr>
<td>backlinks_total</td>
<td>Total backlinks</td>
</tr>
<tr>
<td>backlinks_referring_ips</td>
<td>Referring IPs</td>
</tr>
<tr>
<td>backlinks_referring_domains</td>
<td>Referring Domains</td>
</tr>
<tr>
<td>backlinks_referring_subnets</td>
<td>Referring Subnets</td>
</tr>
</tbody></table>

<h1 id='data-stats'>Data Stats</h1>
<p>Calculates statistics for a specified URL or View in a given date range.</p>
<h2 id='keyword-stats'>Keyword Stats</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/keyword_stats?access_token=ACCESS_TOKEN&amp;start_date=07-03-2019&amp;end_date=08-02-2019&amp;dynamic_view_id=5106&amp;url_id=80337'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"average_position"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"average_position_change"</span><span class="p">:</span><span class="w"> </span><span class="mf">-24.3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"search_visibility_index"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"search_visibility_index_change"</span><span class="p">:</span><span class="w"> </span><span class="mf">-76.7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"click_potential"</span><span class="p">:</span><span class="w"> </span><span class="mf">163.2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"click_potential_change"</span><span class="p">:</span><span class="w"> </span><span class="mf">-412.0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"top3_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"top3_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">-2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"top10_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"top10_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"top100_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"top100_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"no_rank_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"no_rank_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keywords_went_up"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keywords_went_down"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keywords_unchanged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"average_positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="s2">"2019-07-03"</span><span class="p">,</span><span class="w"> </span><span class="mf">14.67</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="s2">"2019-07-04"</span><span class="p">,</span><span class="w"> </span><span class="mf">8.0</span><span class="p">],</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"search_visibility_series"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="s2">"2019-07-03"</span><span class="p">,</span><span class="w"> </span><span class="mf">80.4</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="s2">"2019-07-04"</span><span class="p">,</span><span class="w"> </span><span class="mf">8.17</span><span class="p">],</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"click_potential_series"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="s2">"2019-07-03"</span><span class="p">,</span><span class="w"> </span><span class="mf">575.16</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="s2">"2019-07-04"</span><span class="p">,</span><span class="w"> </span><span class="mf">348.37</span><span class="p">],</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"keyword_distribution_series"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"2019-07-03"</span><span class="p">,</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"top_3"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"top_10"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"top_100"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"no_rank"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"2019-07-04"</span><span class="p">,</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"top_3"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"top_10"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"top_100"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"no_rank"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"keyword_up_down_series"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"2019-07-03"</span><span class="p">,</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"went_up"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"went_down"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"stagnant"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"2019-07-04"</span><span class="p">,</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"went_up"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"went_down"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"stagnant"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"indexed_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">289</span><span class="p">,</span><span class="w">
    </span><span class="s2">"indexed_pages_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">-117</span><span class="p">,</span><span class="w">
    </span><span class="s2">"indexed_pages_series"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="s2">"2019-07-03"</span><span class="p">,</span><span class="w"> </span><span class="mi">406</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="s2">"2019-07-04"</span><span class="p">,</span><span class="w"> </span><span class="mi">317</span><span class="p">],</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/keyword_stats?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_date*</td>
<td>The starting date in YYYY-MM-DD format (e.g. 2019-01-01)</td>
</tr>
<tr>
<td>end_date*</td>
<td>The ending date in YYYY-MM-DD format (e.g. 2019-01-31)</td>
</tr>
<tr>
<td>url_id</td>
<td>The URL id to calculate stats for</td>
</tr>
<tr>
<td>dynamic_view_id</td>
<td>The dynamic view id to calculate stats for</td>
</tr>
</tbody></table>

<p>It&#39;s mandatory to specify either an <code>url_id</code> or <code>dynamic_view_id</code>.</p>

<p>Available stats:</p>

<table><thead>
<tr>
<th>Stat</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>average_position</td>
<td>Latest average rank</td>
</tr>
<tr>
<td>average_position_change</td>
<td>Average rank change</td>
</tr>
<tr>
<td>search_visibility_index</td>
<td>Latest search visibility index (<a href="https://docs.nightwatch.io/article/51-metrics-explanation">more info</a>)</td>
</tr>
<tr>
<td>search_visibility_index_change</td>
<td>Search visibility index change</td>
</tr>
<tr>
<td>click_potential</td>
<td>Latest click potential (<a href="https://docs.nightwatch.io/article/51-metrics-explanation">more info</a>)</td>
</tr>
<tr>
<td>click_potential_change</td>
<td>Click potential change</td>
</tr>
<tr>
<td>top3_count</td>
<td>Latest distribution of keywords in top 3 ranks</td>
</tr>
<tr>
<td>top3_change</td>
<td>Change in distribution of keywords in top 3 ranks</td>
</tr>
<tr>
<td>top10_count</td>
<td>Latest distribution of keywords in top 10 ranks</td>
</tr>
<tr>
<td>top10_change</td>
<td>Change in distribution of keywords in top 10 ranks</td>
</tr>
<tr>
<td>top100_count</td>
<td>Latest distribution of keywords in top 100 ranks</td>
</tr>
<tr>
<td>top100_change</td>
<td>Change in distribution of keywords in top 100 ranks</td>
</tr>
<tr>
<td>no_rank_count</td>
<td>Latest distribution of keywords not ranking</td>
</tr>
<tr>
<td>no_rank_change</td>
<td>Change in distribution of keywords not ranking</td>
</tr>
<tr>
<td>keywords_went_up</td>
<td>Number of keywords that went up</td>
</tr>
<tr>
<td>keywords_went_down</td>
<td>Number of keywords that went down</td>
</tr>
<tr>
<td>keywords_unchanged</td>
<td>Number of keywords that remained unchanged</td>
</tr>
<tr>
<td>keyword_count</td>
<td>Total number of keywords</td>
</tr>
<tr>
<td>url_count</td>
<td>Total number of URLs</td>
</tr>
<tr>
<td>average_positions</td>
<td>Average position time series</td>
</tr>
<tr>
<td>search_visibility_series</td>
<td>Search visibility time series</td>
</tr>
<tr>
<td>click_potential_series</td>
<td>Click potential time series</td>
</tr>
<tr>
<td>keyword_distribution_series</td>
<td>Keyword distribution time series</td>
</tr>
<tr>
<td>keyword_up_down_series</td>
<td>Keywords up/down time series</td>
</tr>
<tr>
<td>indexed_pages</td>
<td>Latest number of pages indexed by Google</td>
</tr>
<tr>
<td>indexed_pages_change</td>
<td>The change of number of pages indexed by Google</td>
</tr>
<tr>
<td>indexed_pages_series</td>
<td>The number of pages indexed by Google time series</td>
</tr>
</tbody></table>

<h1 id='keyword-views'>Keyword Views</h1>
<p>Keyword views are segmented keyword lists defined by a set of filters. They can match
keywords across the whole account (global views) or they can be scoped to a single URL (URL views).</p>

<aside class="notice">
  All views need a filter definition. Individual filters can be chained by AND / OR.
</aside>
<h2 id='available-filters-and-conditions'>Available filters and conditions</h2>

<table><thead>
<tr>
<th>Filter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>query</td>
<td>string</td>
<td>Keyword term</td>
</tr>
<tr>
<td>position_changed_at</td>
<td>date</td>
<td>Time of last position change</td>
</tr>
<tr>
<td>location</td>
<td>string</td>
<td>Keyword&#39;s location</td>
</tr>
<tr>
<td>language</td>
<td>string</td>
<td>Keyword&#39;s name</td>
</tr>
<tr>
<td>position</td>
<td>number</td>
<td>Keyword&#39;s position</td>
</tr>
<tr>
<td>position_organic</td>
<td>number</td>
<td>Keyword&#39;s organic position</td>
</tr>
<tr>
<td>position_local_pack</td>
<td>number</td>
<td>Keyword&#39;s local pack position</td>
</tr>
<tr>
<td>position_featured_snippet</td>
<td>number</td>
<td>Keyword&#39;s featured snippet position</td>
</tr>
<tr>
<td>position_knowledge_panel</td>
<td>number</td>
<td>Keyword&#39;s knowledge panel position</td>
</tr>
<tr>
<td>search_volume_global</td>
<td>number</td>
<td>Keyword&#39;s global SV</td>
</tr>
<tr>
<td>search_volume_local</td>
<td>number</td>
<td>Keyword&#39;s local SV</td>
</tr>
<tr>
<td>average_cpc_global</td>
<td>number</td>
<td>Keyword&#39;s global CPC</td>
</tr>
<tr>
<td>average_cpc_local</td>
<td>number</td>
<td>Keyword&#39;s local CPC</td>
</tr>
<tr>
<td>day_change</td>
<td>number</td>
<td>Position change in the last day</td>
</tr>
<tr>
<td>week_change</td>
<td>number</td>
<td>Position change in the last week</td>
</tr>
<tr>
<td>month_change</td>
<td>number</td>
<td>Position change in the last month</td>
</tr>
<tr>
<td>keyword_created_at</td>
<td>date</td>
<td>Keyword&#39;s creation date</td>
</tr>
<tr>
<td>keyword_tag</td>
<td>string</td>
<td>Keyword&#39;s tag</td>
</tr>
<tr>
<td>engine</td>
<td>string</td>
<td>Engine (possible values: google, bing, yahoo, youtube, places)</td>
</tr>
<tr>
<td>mobile</td>
<td>boolean</td>
<td>Whether the keyword is mobile (possible values: true, false)</td>
</tr>
<tr>
<td>keyword_last_processed_at</td>
<td>date</td>
<td>Time of last position refresh</td>
</tr>
<tr>
<td>result_url</td>
<td>string</td>
<td>Keyword&#39;s ranking URL in SERP</td>
</tr>
</tbody></table>

<h3 id='string-data-type-conditions'>String data type conditions</h3>

<table><thead>
<tr>
<th>Condition</th>
</tr>
</thead><tbody>
<tr>
<td>contains</td>
</tr>
<tr>
<td>starts_with</td>
</tr>
<tr>
<td>ends_with</td>
</tr>
<tr>
<td>equals</td>
</tr>
<tr>
<td>not_contains</td>
</tr>
<tr>
<td>not_starts_with</td>
</tr>
<tr>
<td>not_ends_with</td>
</tr>
<tr>
<td>not_equals</td>
</tr>
</tbody></table>

<h3 id='number-and-date-data-type-conditions'>Number and date data type conditions</h3>

<table><thead>
<tr>
<th>Condition</th>
</tr>
</thead><tbody>
<tr>
<td>less</td>
</tr>
<tr>
<td>more</td>
</tr>
<tr>
<td>less_or_equal</td>
</tr>
<tr>
<td>more_or_equal</td>
</tr>
<tr>
<td>equals</td>
</tr>
</tbody></table>

<h3 id='presence-and-absence-conditions'>Presence and absence conditions</h3>

<table><thead>
<tr>
<th>Condition</th>
</tr>
</thead><tbody>
<tr>
<td>present</td>
</tr>
<tr>
<td>absent</td>
</tr>
</tbody></table>

<p>These conditions only apply to the following fields: position_organic, position_local_pack, position_places_image,
position_featured_snippet, position_knowledge_panel, search_volume_global, search_volume_local, average_cpc_global, average_cpc_local, result_url.</p>

<h3 id='forming-filters'>Forming filters</h3>

<p>Using the provided filters and conditions, you can freely form a filter block using the following form:</p>

<pre class="highlight javascript tab-javascript"><code><span class="c1">// A filter block to search for keywords with global SV larger than 200</span>
<span class="p">{</span>
  <span class="nl">field</span><span class="p">:</span><span class="s2">"search_volume_global"</span><span class="p">,</span>
  <span class="nx">condition</span><span class="p">:</span><span class="s2">"more"</span><span class="p">,</span>
  <span class="nx">value</span><span class="p">:</span><span class="mi">2000</span>
<span class="p">}</span>

<span class="c1">// A filter block to search for keywords that have a position (they are ranking)</span>
<span class="p">{</span>
  <span class="nl">field</span><span class="p">:</span><span class="s2">"position"</span><span class="p">,</span>
  <span class="nx">condition</span><span class="p">:</span><span class="s2">"present"</span>
<span class="p">}</span>

<span class="c1">// A filter block to search for keywords with a specific tag:</span>
<span class="p">{</span>
  <span class="nl">field</span><span class="p">:</span><span class="s2">"keyword_tag"</span><span class="p">,</span>
  <span class="nx">condition</span><span class="p">:</span><span class="s2">"equals"</span><span class="p">,</span>
  <span class="nx">value</span><span class="p">:</span><span class="s2">"Branded"</span>
<span class="p">}</span>
</code></pre><h3 id='combining-filters'>Combining filters</h3>
<p>To prepare filter blocks to be used in a query, they need to be put in <code>filter groups</code>.</p>

<p>A filter group is a group of filters tied together with <code>OR</code> logical operator.</p>

<p>Multiple filter groups are tied together with <code>AND</code> logical operator.</p>

<p><code>filter groups</code> are used for advanced keyword filtering and saving views (described in the next sections).</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Joining filters into a group.</span>

<span class="c1">// OR example:</span>
<span class="c1">// This example reads as: "return keywords with position 1 together with keywords with position more than 50"</span>
<span class="nx">filter_groups</span> <span class="o">=</span> <span class="p">[{</span>
  <span class="na">filters</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">field</span><span class="p">:</span><span class="s2">"position"</span><span class="p">,</span>
      <span class="na">condition</span><span class="p">:</span><span class="s2">"equals"</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span><span class="s2">"1"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">field</span><span class="p">:</span><span class="s2">"position"</span><span class="p">,</span>
      <span class="na">condition</span><span class="p">:</span><span class="s2">"more"</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span><span class="s2">"50"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}]</span>

<span class="c1">// AND example:</span>
<span class="c1">// This example reads as: "return keywords with position 1 that have search volume larger than 10000"</span>
<span class="nx">filter_groups</span> <span class="o">=</span> <span class="p">[{</span>
  <span class="na">filters</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">field</span><span class="p">:</span><span class="s2">"position"</span><span class="p">,</span>
      <span class="na">condition</span><span class="p">:</span><span class="s2">"equals"</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span><span class="s2">"1"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="na">filters</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">field</span><span class="p">:</span><span class="s2">"search_volume_local"</span><span class="p">,</span>
      <span class="na">condition</span><span class="p">:</span><span class="s2">"more"</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span><span class="mi">10000</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}]</span>
</code></pre><h2 id='keyword-filtering'>Keyword filtering</h2>
<p>While views are intended for saving a particular filter set and then being used as saved keyword segments, it&#39;s also
possible to use them to filter keywords on the fly.</p>
<pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/URL_ID/keywords?access_token=ACCESS_TOKEN \
  filter_groups=[{"filters":[{"field":"position","condition":"equals","value":"1"}]}]
</span></code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_processed_at"</span><span class="p">:</span><span class="s2">"2019-06-04T00:18:23.187Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"query"</span><span class="p">:</span><span class="s2">"goji berries"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2016-10-08T11:30:07.923Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="s2">"search_keyword_url_id"</span><span class="p">:</span><span class="mi">22199</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/urls/URL_ID/keywords</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter_groups</td>
<td>Filter configuration</td>
</tr>
<tr>
<td>direction</td>
<td>The direction to sort by. <br><br>Possible values: asc, desc</td>
</tr>
<tr>
<td>search</td>
<td>A general search string to filter by keywords&#39; term, tags, result URL and location</td>
</tr>
<tr>
<td>page</td>
<td>Page number (pagination)</td>
</tr>
<tr>
<td>group_id</td>
<td>Group ID</td>
</tr>
<tr>
<td>scope</td>
<td>When group ID is not provided, this value has to be &quot;account&quot;</td>
</tr>
<tr>
<td>limit</td>
<td>Amount of keywords in a page</td>
</tr>
</tbody></table>
<pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/dynamic_views?access_token=ACCESS_TOKEN&amp;group_id=123
</span></code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">5878</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Branded"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"search_keyword_url_id"</span><span class="p">:</span><span class="mi">22199</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"report_count"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/dynamic_views?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>group_id</td>
<td>Views belonging to a specific group</td>
</tr>
<tr>
<td>search_keyword_url_id</td>
<td>Views belonging to a specific url</td>
</tr>
</tbody></table>

<ul>
<li>at least one of the group_id or search_keyword_url_id parameters must be present</li>
</ul>
<h2 id='create-a-view'>Create a view</h2>
<p>A view is set up in two phases. First we create the view, and then we create the filters.</p>
<pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/dynamic_views?access_token=access_token  \
  -H '</span>Accept: application/json<span class="s1">' \
  -X POST \
  -d '</span><span class="o">{</span><span class="s2">"dynamic_view"</span>:<span class="o">{</span><span class="s2">"name"</span>:<span class="s2">"Example view"</span>,<span class="s2">"url_group_id"</span>:<span class="s2">"26738"</span><span class="o">}}</span><span class="s1">'
</span></code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">58375</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Example view"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"search_keyword_url_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="mi">26738</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="mi">397</span><span class="p">,</span><span class="w">
  </span><span class="s2">"report_count"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/dynamic_views</code></p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>View&#39;s name</td>
</tr>
<tr>
<td>group_id</td>
<td>View belonging to a specific group</td>
</tr>
<tr>
<td>search_keyword_url_id</td>
<td>View belonging to a specific url</td>
</tr>
</tbody></table>

<ul>
<li>at least one of the group_id or search_keyword_url_id parameters must be present</li>
</ul>

<aside class="notice">
  A view referenced to a group is not tied to the group's scope, it's just an organizational container
  for a view. When a view is referenced to a URL (search_keyword_url_id), it is scoped to that URL's
  keywords. A view can belong to either a group or URL, never both.
</aside>

<p>Next, after a view has been created, we need to create create its filter groups:</p>
<pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/dynamic_views/VIEW_ID/filter_groups?access_token=ACCESS_TOKEN \
    -H '</span>Content-Type: application/json<span class="s1">' \
    -X POST \
    -d '</span><span class="o">{</span><span class="s2">"filter_group"</span>:<span class="o">{</span><span class="s2">"filters"</span>:[<span class="o">{</span><span class="s2">"field"</span>:<span class="s2">"query"</span>,<span class="s2">"condition"</span>:<span class="s2">"contains"</span>,<span class="s2">"value"</span>:<span class="s2">"example"</span><span class="o">}]}}</span><span class="s1">'
</span></code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="s2">"id"</span><span class="p">:</span><span class="mi">60091</span><span class="p">,</span><span class="w">
   </span><span class="s2">"dynamic_view_id"</span><span class="p">:</span><span class="mi">58375</span><span class="p">,</span><span class="w">
   </span><span class="s2">"filters"</span><span class="p">:[{</span><span class="s2">"id"</span><span class="p">:</span><span class="mi">64359</span><span class="p">,</span><span class="s2">"field"</span><span class="p">:</span><span class="s2">"query"</span><span class="p">,</span><span class="s2">"condition"</span><span class="p">:</span><span class="s2">"contains"</span><span class="p">,</span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"example"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/dynamic_views/VIEW_ID/filter_groups</code></p>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filters</td>
<td>Array of filter groups</td>
</tr>
</tbody></table>

<ul>
<li>If you have multiple filter groups (AND filters chaining), you have to make multiple <code>filter_groups</code> <code>POST</code> requests.</li>
</ul>
<h2 id='get-a-view'>Get a view</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/dynamic_views/VIEW_ID?access_token=ACCESS_TOKEN
</span></code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">58375</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Example view"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"search_keyword_url_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="mi">26738</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="mi">397</span><span class="p">,</span><span class="w">
  </span><span class="s2">"report_count"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/dynamic_views/VIEW_ID</code></p>
<h2 id='get-view-39-s-filtered-keywords'>Get view&#39;s filtered keywords</h2>
<p>Once the view is persisted and its filters configured, we can use it to get its filtered
keywords.</p>
<pre class="highlight shell tab-shell"><code>  curl <span class="s1">'https://api.nightwatch.io/api/v1/urls/URL_ID/keywords?access_token=ACCESS_TOKEN&amp;dynamic_view_id=VIEW_ID'</span>
</code></pre><h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/urls/URL_ID/keywords</code></p>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dynamic_view_id*</td>
<td>View&#39;s ID</td>
</tr>
<tr>
<td>sort</td>
<td>The name of the field to sort by. <br><br>Possible values: id, query, google_gl, google_hl, last_processed_at, created_at, updated_at, position, position_type, position_organic, position_places, position_places_image, position_changed_by, position_changed_status, position_changed_at, position_local_pack, position_featured_snippet, position_knowledge_panel, local_search, position_changed_during_last_day, position_changed_during_last_week, position_changed_during_last_month, mobile, engine, previous_position, best_position, available_serp_features, adwords_global_search_volume, adwords_global_average_cpc, adwords_local_search_volume, adwords_local_average_cpc</td>
</tr>
<tr>
<td>direction</td>
<td>The direction to sort by. <br><br>Possible values: asc, desc</td>
</tr>
<tr>
<td>page</td>
<td>Page number (pagination)</td>
</tr>
<tr>
<td>scope</td>
<td>When group ID is not provided, this value has to be &quot;account&quot;</td>
</tr>
<tr>
<td>limit</td>
<td>Amount of keywords in a page</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>
<h2 id='update-a-view'>Update a view</h2>
<p>You can update the view&#39;s name.</p>
<pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/dynamic_views/59203?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
     -X PUT <span class="se">\\</span>
     -H <span class="s1">'Content-Type: application/json; charset=UTF-8'</span> <span class="se">\\</span>
     --data-binary <span class="s1">'{"dynamic_view":{"name":"Top 3 keywords"}}'</span>
</code></pre><h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/dynamic_views/VIEW_ID</code></p>
<h3 id='url-parameters-6'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name*</td>
<td>View&#39;s name</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">58375</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Example view"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"search_keyword_url_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="mi">26738</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="mi">397</span><span class="p">,</span><span class="w">
  </span><span class="s2">"report_count"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='delete-a-view'>Delete a view</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/dynamic_views/59203?access_token=ACCESS_TOKEN \
      -X DELETE
</span></code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">58375</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Example view"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"search_keyword_url_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="mi">26738</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="mi">397</span><span class="p">,</span><span class="w">
  </span><span class="s2">"report_count"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-8'>HTTP Request</h3>
<p><code>DELETE https://api.nightwatch.io/api/v1/dynamic_views/VIEW_ID</code></p>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">58375</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Example view"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"search_keyword_url_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_group_id"</span><span class="p">:</span><span class="mi">26738</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keyword_count"</span><span class="p">:</span><span class="mi">397</span><span class="p">,</span><span class="w">
  </span><span class="s2">"report_count"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<h1 id='serps'>SERPs</h1>

<p>This section describes getting SERP data for a specified keyword result.</p>

<h2 id='get-serp-data'>Get SERP Data</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/serp_data/RESULT_ID?access_token=ACCESS_TOKEN'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"keyword"</span><span class="p">:</span><span class="s2">"example"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"engine"</span><span class="p">:</span><span class="s2">"google"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rank_time"</span><span class="p">:</span><span class="s2">"2019-08-25T03:11:51.614409Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rank_date"</span><span class="p">:</span><span class="s2">"2019-08-25"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="s2">"en"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_center"</span><span class="p">:</span><span class="s2">"us"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="s2">"New York, New York, United States"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_number_of_results"</span><span class="p">:</span><span class="mi">160000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"serp"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"1"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Example #1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="s2">"https://test.example.com/page/1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"This is the first example"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_url"</span><span class="p">:</span><span class="s2">"test.example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_domain"</span><span class="p">:</span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"2"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Example #2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="s2">"https://www.example.com/2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"This is the second example"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_url"</span><span class="p">:</span><span class="s2">"www.example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_domain"</span><span class="p">:</span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"position"</span><span class="p">:</span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">result</span><span class="w"> </span><span class="err">slots</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">they're</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">missing</span><span class="w"> </span><span class="err">(e.g.</span><span class="w"> </span><span class="err">less</span><span class="w"> </span><span class="err">than</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="err">results)</span><span class="w">
    </span><span class="s2">"100"</span><span class="p">:</span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"local_pack"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Local result"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"href"</span><span class="p">:</span><span class="s2">"https://www.example.com/local"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"present"</span><span class="p">:</span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"local_image_carousel"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Local result"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"present"</span><span class="p">:</span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"knowledge_panel"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Knowledge panel result"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"href"</span><span class="p">:</span><span class="s2">"https://www.example.com/knowledge-panel"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"present"</span><span class="p">:</span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"featured_snippets"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Featured snippet result"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"href"</span><span class="p">:</span><span class="s2">"https://www.example.com/snippet"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"present"</span><span class="p">:</span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/serp_data/RESULT_ID?access_token=ACCESS_TOKEN</code></p>

<p>Response structure:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>keyword</td>
<td>Keyword query string</td>
</tr>
<tr>
<td>engine</td>
<td>Search engine (google, places, bing, yahoo, youtube)</td>
</tr>
<tr>
<td>rank_time</td>
<td>The time the SERP was processed</td>
</tr>
<tr>
<td>rank_date</td>
<td>The date the SERP was processed</td>
</tr>
<tr>
<td>locale</td>
<td>Requested search language (e.g. en)</td>
</tr>
<tr>
<td>data_center</td>
<td>Requested search country (e.g. us)</td>
</tr>
<tr>
<td>location</td>
<td>Search location (e.g. New York, New York, United States)</td>
</tr>
<tr>
<td>total_number_of_results</td>
<td>The total number of search results</td>
</tr>
<tr>
<td>serp</td>
<td>A JSON object of ranked organic results</td>
</tr>
<tr>
<td>local_pack</td>
<td>A JSON object containing a list of local pack results</td>
</tr>
<tr>
<td>local_image_carousel</td>
<td>A JSON object containing a list of carousel results</td>
</tr>
<tr>
<td>knowledge_panel</td>
<td>A JSON object containing a list of knowledge panel results</td>
</tr>
<tr>
<td>featured_snippets</td>
<td>A JSON object containing a list of featured snippet results</td>
</tr>
</tbody></table>

<h1 id='search-api'>Search API</h1>
<p>The Search API is a feature in Nightwatch where you submit a search engine query to Nightwatch,
then Nightwatch performs a search engine query, gets the SERP, extracts data and enables you to
download it.</p>

<p>This feature is useful for scraping Google via Nightwatch&#39;s system and getting SERP data for
specified queries.</p>

<aside class="notice">
  This is a Nightwatch feature that is available only to accounts that have it enabled.
  If you want to enable it on your account, contact support at <a href="mailto:info@nightwatch.io">info@nightwatch.io</a>.
</aside>

<p>The Search API is used to perform on demand search requests using your allocated account credits.
Credits can be bought via an external form. Please contact <a href="mailto:info@nightwatch.io">support</a> if you want to buy more.
To check how many credits you have, check the <a href="#user">user</a> endpoint.</p>

<p>Every search request costs a certain amount of credits, depending on the request type.
You can learn more about it in our <a href="https://docs.nightwatch.io/article/91-nightwatch-api">docs</a> - check the
section under &quot;Partner API&quot; (this is a legacy name for Search API).</p>

<p>The searches are always performed asynchronously, and you can subscribe to them using the callback url that you&#39;ve provided to our support team.
Alternatively you can also poll a serach request until it is processed and the <code>done</code> flag is set to <code>true</code>.
You can also query search requests using the <code>custom_id</code> in place of the serach request id.</p>
<h2 id='list-search-requests'>List search requests</h2>

<p>Return a list of the 100 most recent search requests.</p>

<pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/partner/search_requests?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coffee shop"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"done"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"processed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-27T20:02:00.000+02:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-27T20:01:00.000+02:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"results_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/results/search_request_1.json"</span><span class="w">
      </span><span class="s2">"google_gl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"google_hl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"location_text"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"location_criteria_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"instant"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"custom_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">

</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/partner/search_requests?access_token=ACCESS_TOKEN</code></p>
<h2 id='show-search-request'>Show search request</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/partner/search_requests/REQUEST_ID?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coffee shop"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"done"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"processed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-27T20:02:00.000+02:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-27T20:01:00.000+02:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"results_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/results/search_request_1.json"</span><span class="w">
    </span><span class="s2">"google_gl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"google_hl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location_text"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location_criteria_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instant"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"custom_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.nightwatch.io/api/v1/partner/search_requests/REQUEST_ID?access_token=ACCESS_TOKEN</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>custom_id</td>
<td>Set to true if you would like to query the search request by <code>custom_id</code> instead</td>
</tr>
</tbody></table>
<h2 id='make-a-search-request'>Make a search request</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/partner/search_requests?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
  -X POST <span class="se">\\</span>
  -d <span class="s1">'{
        "engine": "google",
        "query": "coffee shop",
        "google_hl": "en",
        "google_gl": "us",
        "location_criteria_id": 1014221,
        "instant": true,
        "mobile": false,
        "accuracy": "normal"
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coffee shop"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"done"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="err">once</span><span class="w"> </span><span class="err">processed</span><span class="w">
    </span><span class="s2">"processed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">once</span><span class="w"> </span><span class="err">processed</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-27T20:02:00.000+02:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"results_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">SERP</span><span class="w"> </span><span class="err">JSON</span><span class="w"> </span><span class="err">once</span><span class="w"> </span><span class="err">processed</span><span class="w">
    </span><span class="s2">"google_gl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"google_hl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location_text"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location_criteria_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instant"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"custom_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>When the search request is performed, you will receive the <a href="#get-serp-data">SERP JSON</a> on your configured callback URL like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">search</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">id</span><span class="w">
  </span><span class="s2">"keyword"</span><span class="p">:</span><span class="s2">"coffee shop"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"engine"</span><span class="p">:</span><span class="s2">"google"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rank_time"</span><span class="p">:</span><span class="s2">"2019-08-25T03:11:51.614409Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rank_date"</span><span class="p">:</span><span class="s2">"2019-08-25"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="s2">"en"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_center"</span><span class="p">:</span><span class="s2">"us"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="err">nil</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_number_of_results"</span><span class="p">:</span><span class="mi">160000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"serp"</span><span class="p">:{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"local_pack"</span><span class="p">:{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"local_image_carousel"</span><span class="p">:{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"knowledge_panel"</span><span class="p">:{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"featured_snippets"</span><span class="p">:{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/partner/search_requests?access_token=ACCESS_TOKEN</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>engine*</td>
<td>Search engine (google, places, bing, yahoo, youtube)</td>
</tr>
<tr>
<td>query*</td>
<td>Keyword query string</td>
</tr>
<tr>
<td>google_hl</td>
<td>Language (e.g. en)</td>
</tr>
<tr>
<td>google_gl</td>
<td>Location (e.g. us)</td>
</tr>
<tr>
<td>location_criteria_id</td>
<td>Search location Criteria ID (see https://developers.google.com/ad-exchange/rtb/geotargeting) - Google only</td>
</tr>
<tr>
<td>custom_id</td>
<td>Custom ID used in your system</td>
</tr>
<tr>
<td>mobile</td>
<td>Mobile search (true/false) - Google only</td>
</tr>
<tr>
<td>instant*</td>
<td>Instant processing - true (process as soon as possible) / false (process when available)</td>
</tr>
<tr>
<td>accuracy*</td>
<td>Accuracy - normal (100 results per page) / high (10 results per page concatenated)</td>
</tr>
</tbody></table>

<p>Parameters marked with * are mandatory.</p>
<h2 id='make-search-requests-batch'>Make search requests (batch)</h2>
<p>You can create multiple search requests in batches of max 100.</p>
<pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nightwatch.io/api/v1/partner/search_requests?access_token=ACCESS_TOKEN'</span> <span class="se">\\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\\</span>
  -X POST <span class="se">\\</span>
  -d <span class="s1">'{
        "batch": [
          {
            "engine": "google",
            "query": "coffee shop",
            "google_hl": "en",
            "google_gl": "us",
            "location_criteria_id": 1014221,
            "instant": true,
            "mobile": false,
            "accuracy": "normal"
          },
          {
            "engine": "google",
            "query": "diner",
            "google_hl": "en",
            "google_gl": "us",
            "location_criteria_id": 1014221,
            "instant": true,
            "mobile": false,
            "accuracy": "normal"
          },
        ]
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<p><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;engine&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;google&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;coffee shop&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;done&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="err">once</span><span class="w"> </span><span class="err">processed</span><span class="w">
    </span><span class="s2">&quot;processed_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">once</span><span class="w"> </span><span class="err">processed</span><span class="w">
    </span><span class="s2">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-08-27T20:02:00.000+02:00&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;results_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">SERP</span><span class="w"> </span><span class="err">JSON</span><span class="w"> </span><span class="err">once</span><span class="w"> </span><span class="err">processed</span><span class="w">
    </span><span class="s2">&quot;google_gl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;us&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;google_hl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;location_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;location_criteria_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;instant&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;accuracy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;normal&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;custom_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;mobile&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;engine&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;google&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;diner&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;done&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="err">once</span><span class="w"> </span><span class="err">processed</span><span class="w">
    </span><span class="s2">&quot;processed_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">once</span><span class="w"> </span><span class="err">processed</span><span class="w">
    </span><span class="s2">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-08-27T20:02:00.000+02:00&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;results_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">SERP</span><span class="w"> </span><span class="err">JSON</span><span class="w"> </span><span class="err">once</span><span class="w"> </span><span class="err">processed</span><span class="w">
    </span><span class="s2">&quot;google_gl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;us&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;google_hl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;location_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;location_criteria_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;instant&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;accuracy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;normal&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;custom_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;mobile&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://api.nightwatch.io/api/v1/partner/search_requests?access_token=ACCESS_TOKEN</code></p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>batch*</td>
<td>A list of search requests to perform (max 100). See <a href="#make-a-search-request">search request</a> params.</td>
</tr>
</tbody></table></p>

<p>Parameters marked with * are mandatory.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
